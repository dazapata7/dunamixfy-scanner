/* ============================================
 * ESTILOS PERSONALIZADOS PARA SCANNER V3
 * ============================================ */

/* V3.2: Área GRANDE de cámara - deja espacio para feedback */
#reader {
  min-height: 65vh !important; /* V3.2: 65% de altura para cámara */
  max-height: 75vh !important; /* V3.2: Máximo 75% - deja 25% para feedback */
  height: auto !important;
  width: 100% !important;
}

/* V3.2: Video GRANDE para mejor visualización */
#reader video {
  min-height: 65vh !important;
  max-height: 75vh !important;
  height: auto !important;
  width: 100% !important;
  object-fit: cover; /* V3.2: Mantiene proporción sin distorsión */
}

/* V3.2: Canvas expandido */
#reader canvas {
  min-height: 65vh !important;
  max-height: 75vh !important;
  height: auto !important;
  width: 100% !important;
}

/* V3.2: Contenedor expandido */
#reader > div {
  min-height: 65vh !important;
  max-height: 75vh !important;
}

/* V3.2: Marco del qrbox DISCRETO pero visible */
#reader__scan_region {
  border: 3px solid rgba(0, 217, 192, 0.7) !important; /* V3.2: Borde discreto */
  box-shadow: 0 0 10px rgba(0, 217, 192, 0.4) !important; /* V3.2: Glow suave */
  border-radius: 12px !important; /* V3.2: Esquinas más redondeadas */
}

/* V3: Estilo del overlay de detección */
#reader__dashboard_section_csr {
  text-align: center;
  padding: 8px;
}

/* V3: Ocultar algunos textos innecesarios */
#reader__dashboard_section_csr > span:first-child {
  display: none; /* Oculta "Scanning" */
}

/* ============================================
 * V3: ANIMACIONES PERSONALIZADAS
 * ============================================ */

/* V3.1: Animación MÁS NOTORIA para código válido (verde) */
@keyframes pulse-success {
  0%, 100% {
    box-shadow: 0 0 30px rgba(34, 197, 94, 0.6),
                inset 0 0 20px rgba(34, 197, 94, 0.2);
    border-color: rgb(34, 197, 94);
    transform: scale(1);
  }
  50% {
    box-shadow: 0 0 60px rgba(34, 197, 94, 1),
                inset 0 0 40px rgba(34, 197, 94, 0.4);
    border-color: rgb(74, 222, 128);
    transform: scale(1.03);
  }
}

/* V3.1: Animación MÁS NOTORIA para código inválido/repetido (rojo) */
@keyframes pulse-error {
  0%, 100% {
    box-shadow: 0 0 30px rgba(239, 68, 68, 0.6),
                inset 0 0 20px rgba(239, 68, 68, 0.2);
    border-color: rgb(239, 68, 68);
    transform: scale(1);
  }
  50% {
    box-shadow: 0 0 60px rgba(239, 68, 68, 1),
                inset 0 0 40px rgba(239, 68, 68, 0.4);
    border-color: rgb(248, 113, 113);
    transform: scale(0.97);
  }
}

/* V3.1: Aplicar animaciones MÁS LARGAS para mayor visibilidad */
.animate-pulse-success {
  animation: pulse-success 0.8s ease-in-out 4; /* V3.1: 4 pulsos en lugar de 3 */
}

.animate-pulse-error {
  animation: pulse-error 0.8s ease-in-out 4; /* V3.1: 4 pulsos en lugar de 3 */
}
