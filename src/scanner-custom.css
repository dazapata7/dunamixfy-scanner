/* ============================================
 * ESTILOS PERSONALIZADOS PARA SCANNER V3
 * ============================================ */

/* V3.3: Área MUY GRANDE de cámara - sin restricciones forzadas */
#reader {
  height: auto !important;
  width: 100% !important;
  max-height: none !important; /* V3.3: REMOVIDO límite de altura */
  min-height: auto !important; /* V3.3: Dejamos que crezca naturalmente */
}

/* V3.3: Video SIN restricciones de altura */
#reader video {
  height: auto !important;
  width: 100% !important;
  max-height: none !important; /* V3.3: REMOVIDO límite */
  min-height: auto !important;
  object-fit: contain !important; /* V3.3: Cambiado a contain para mostrar TODO */
}

/* V3.3: Canvas SIN restricciones */
#reader canvas {
  height: auto !important;
  width: 100% !important;
  max-height: none !important; /* V3.3: REMOVIDO límite */
  min-height: auto !important;
}

/* V3.3: Contenedor SIN límites */
#reader > div {
  height: auto !important;
  max-height: none !important;
  min-height: auto !important;
}

/* V3.2: Marco del qrbox DISCRETO pero visible */
#reader__scan_region {
  border: 3px solid rgba(0, 217, 192, 0.7) !important; /* V3.2: Borde discreto */
  box-shadow: 0 0 10px rgba(0, 217, 192, 0.4) !important; /* V3.2: Glow suave */
  border-radius: 12px !important; /* V3.2: Esquinas más redondeadas */
}

/* V3: Estilo del overlay de detección */
#reader__dashboard_section_csr {
  text-align: center;
  padding: 8px;
}

/* V3: Ocultar algunos textos innecesarios */
#reader__dashboard_section_csr > span:first-child {
  display: none; /* Oculta "Scanning" */
}

/* ============================================
 * V3: ANIMACIONES PERSONALIZADAS
 * ============================================ */

/* V3.1: Animación MÁS NOTORIA para código válido (verde) */
@keyframes pulse-success {
  0%, 100% {
    box-shadow: 0 0 30px rgba(34, 197, 94, 0.6),
                inset 0 0 20px rgba(34, 197, 94, 0.2);
    border-color: rgb(34, 197, 94);
    transform: scale(1);
  }
  50% {
    box-shadow: 0 0 60px rgba(34, 197, 94, 1),
                inset 0 0 40px rgba(34, 197, 94, 0.4);
    border-color: rgb(74, 222, 128);
    transform: scale(1.03);
  }
}

/* V3.1: Animación MÁS NOTORIA para código inválido/repetido (rojo) */
@keyframes pulse-error {
  0%, 100% {
    box-shadow: 0 0 30px rgba(239, 68, 68, 0.6),
                inset 0 0 20px rgba(239, 68, 68, 0.2);
    border-color: rgb(239, 68, 68);
    transform: scale(1);
  }
  50% {
    box-shadow: 0 0 60px rgba(239, 68, 68, 1),
                inset 0 0 40px rgba(239, 68, 68, 0.4);
    border-color: rgb(248, 113, 113);
    transform: scale(0.97);
  }
}

/* V3.1: Aplicar animaciones MÁS LARGAS para mayor visibilidad */
.animate-pulse-success {
  animation: pulse-success 0.8s ease-in-out 4; /* V3.1: 4 pulsos en lugar de 3 */
}

.animate-pulse-error {
  animation: pulse-error 0.8s ease-in-out 4; /* V3.1: 4 pulsos en lugar de 3 */
}

/* ============================================
 * ESTILOS PARA WMS SCANNER (wms-reader)
 * ============================================ */

/* WMS Scanner - Área grande sin restricciones */
#wms-reader {
  height: auto !important;
  width: 100% !important;
  max-height: none !important;
  min-height: 70vh !important; /* Mínimo 70% de la altura de la ventana */
}

/* WMS Scanner - Video sin restricciones */
#wms-reader video {
  height: auto !important;
  width: 100% !important;
  max-height: none !important;
  min-height: 70vh !important; /* Mínimo 70% de la altura de la ventana */
  object-fit: cover !important; /* Usar cover para llenar todo el espacio */
}

/* WMS Scanner - Canvas sin restricciones */
#wms-reader canvas {
  height: auto !important;
  width: 100% !important;
  max-height: none !important;
  min-height: 70vh !important; /* Mínimo 70% de la altura de la ventana */
  position: absolute !important; /* Posicionar sobre el video */
  top: 0 !important;
  left: 0 !important;
  z-index: 10 !important; /* Por encima del video */
  pointer-events: none !important; /* No bloquear interacciones */
}

/* WMS Scanner - Contenedor sin límites */
#wms-reader > div {
  height: auto !important;
  max-height: none !important;
  min-height: 70vh !important; /* Mínimo 70% de la altura de la ventana */
}

/* WMS Scanner - Marco del qrbox */
#wms-reader__scan_region {
  border: 3px solid rgba(0, 217, 192, 0.7) !important;
  box-shadow: 0 0 10px rgba(0, 217, 192, 0.4) !important;
  border-radius: 12px !important;
}

/* WMS Scanner - Dashboard */
#wms-reader__dashboard_section_csr {
  text-align: center;
  padding: 8px;
}

/* WMS Scanner - Ocultar textos innecesarios */
#wms-reader__dashboard_section_csr > span:first-child {
  display: none;
}

/* Contenedor general del scanner */
.scanner-container {
  position: relative;
  width: 100%;
  min-height: 70vh; /* Mínimo 70% de la altura de la ventana */
  background: rgba(0, 0, 0, 0.3);
  border-radius: 16px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}
